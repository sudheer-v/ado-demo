trigger:
- master

resources:
- repo: self

pool:
  name: 'Azure Pipelines'

stages:
- stage: SyntaxCheck
  jobs:
  - job: SyntaxCheck
    steps:
      - script: |
          apt-get update
          pip3 install pre-commit
          pre-commit run -a
- stage: ConfigCheck
  jobs:
  - job: CheckovScan
    steps:
      - script: |
          apt-get update
          pip3 install checkov 
          checkov --output cli
